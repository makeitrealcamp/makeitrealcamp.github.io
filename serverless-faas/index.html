<!DOCTYPE html>
<html lang="es">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title> Serverless (FaaS) </title>
  <meta name="description" content="Serverless es una nueva tendencia en el despliegue de aplicaciones que cada día adquiere más fuerza. En este post vamos a ver qué es, cómo funciona y cuál es...">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Serverless (FaaS)">
<meta property="og:type" content="article">
<meta property="og:url" content="http://blog.makeitreal.camp/serverless-faas/">


  <meta property="og:image" content="http://blog.makeitreal.camp/assets/images/bg-images/butterflies.jpg">



<meta property="og:site_name" content="El Blog de Make it Real">
<meta property="og:locale" content="es_CO">


  <meta property="article:published_time" content="2022-02-20T07:00:00+00:00">
  <meta property="article:author" content="Germán Escobar">



  <link rel="canonical" href="http://blog.makeitreal.camp/serverless-faas/">
  <link rel="alternate" type="application/rss+xml" title="El Blog de Make it Real" href="/feed.xml">

  <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans+Condensed:700|Open+Sans:400,300,600,700' type='text/css'>
  <link rel="stylesheet" href="/assets/stylesheets/main.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://kit.fontawesome.com/a97e084bfc.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-search@latest/dist/js-search.min.js"></script>
  <script src="/assets/javascripts/main.js" charset="utf-8"></script>
  <script src="/assets/javascripts/prism.min.js" charset="utf-8"></script>

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-18132057-9', 'auto');
  ga('send', 'pageview');
</script>

  
</head>

  <body>
    <nav class="main">
  <div class="container">
    <div class="main-content">
      <a href="https://makeitreal.camp/?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=logo"><img src="/assets/images/logo-makeitreal-white.png" alt="Make it Real Logo"></a>
      <div>
        
        <a href="https://makeitreal.camp/?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=programs#programs" class="btn-cta">Conoce nuestros programas</a>
      </div>
      <div class="secret" style="display: none;">HcUy6Re2LLBRtj</div>
    </div>
  </div>
</nav>

    <div class="content"><div class="post-page">
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col-lg-10 col-xl-9">
        <a href="/">&larr; Volver a la lista de posts</a>

        <div class="post">
          <div class="post-image" style="background-image: url(/assets/images/bg-images/butterflies.jpg)"></div>
          <div class="row justify-content-md-center">
            <div class="col-md-10">
              <div class="post-content">
                <div class="post-details">
                  <div class="post-author">
                    <img class="img-responsive" src="//www.gravatar.com/avatar/12270acfe9b6842e1a5b6e594382f149.jpg?s=80"/>
                    <span>Germán Escobar</span>
                  </div>
                  <time class="post-date">Feb 20, 2022</time>
                </div>
                <h1>Serverless (FaaS)</h1>
                <div class="post-body"><p>Serverless es una nueva tendencia en el despliegue de aplicaciones que cada día adquiere más fuerza. En este post vamos a ver qué es, cómo funciona y cuál es la relación entre Serverless y FaaS (Functions as a Service).<!-- more --></p>

<p>La forma tradicional de desplegar aplicaciones es alquilar un servidor (p.e. una máquina virtual de <a href="https://aws.amazon.com/ec2/" target="\_blank">AWS EC2</a>) o un contenedor (p.e. <a href="https://heroku.com/" target="\_blank">Heroku</a>) y pagar por horas o meses por tener nuestra aplicación disponible.</p>

<p>Una desventaja de este modelo es el desperdicio de recursos: si nuestra aplicación no está recibiendo tráfico o ejecutando alguna tarea estamos pagando por recursos que no están siendo utilizados.</p>

<p>Otra desventaja es que si recibimos un pico de tráfico o de tareas vamos a tener que reaccionar para incrementar la capacidad o configurar alguna forma de escalamiento automático.</p>

<p>Serverless elimina estas desventajas. Por un lado, sólo pagamos por el tráfico o las tareas que ejecutemos y, por otro lado, el proveedor se encarga de escalar automáticamente la infraestructura a medida que incrementa el tráfico.</p>

<h2 id="qué-es">¿Qué es?</h2>

<p>Serverless (“sin servidor” en Español) es un concepto muy amplio y un poco confuso, porque no es que no haya necesidad de un servidor, es que <strong>nosotros no vamos a mantener esos servidores, alguien más lo va a hacer por nosotros</strong>.</p>

<p>Bajo esa definición servicios como <a href="https://heroku.com/" target="\_blank">Heroku</a>, <a href="https://firebase.google.com/" target="\_blank">Firebase</a>, <a href="https://aws.amazon.com/s3/" target="\_blank">S3</a> (el servicio de almacenamiento de AWS) o cualquier servicio de cómputo o almacenamiento donde no tengamos que mantener un servidor se podría considerar Serverless.</p>

<p>Dentro del mundo Serverless existen las <strong>funciones como servicio</strong> (en Inglés Functions as a Service o FaaS), que permiten ejecutar código (funciones) en la nube sin necesidad de mantener un servidor. En este post hablaremos principalmente de FaaS.</p>

<p>FaaS (Functions as a Service) empezó a ser popularizado en 2014 con el <a href="https://www.youtube.com/watch?v=9eHoyUVo-yg" target="\_blank">lanzamiento de AWS Lambda</a>, un servicio de cómputo basado en eventos utilizando funciones en la nube. En los siguientes años <a href="https://cloud.google.com/functions" target="\_blank">Google</a>, <a href="https://azure.microsoft.com/en-us/services/functions/" target="\_blank">Microsoft</a>, <a href="https://www.ibm.com/cloud/functions" target="\_blank">IBM</a> y otros lanzaron soluciones similares.</p>

<h2 id="cómo-funciona">¿Cómo funciona?</h2>

<p>La idea de FaaS es simple:</p>

<ol>
  <li>Escribimos una función en alguno de los lenguaje de programación que soporte el proveedor que vayamos a utilizar (p.e. <a href="https://aws.amazon.com/lambda/" target="\_blank">AWS Lambda</a>, <a href="https://vercel.com/" target="\_blank">Vercel</a>, <a href="https://netlify.com/" target="\_blank">Netlify</a>, etc.).</li>
  <li>Subimos nuestra función al proveedor.</li>
  <li>En algunos proveedores (p.e. AWS Lambda) es necesario configurar un evento que va a disparar la función (p.e. una petición HTTP, la recepción de un email, almacenamiento en S3, etc.). En otros proveedores la única forma de invocar la función es a través de HTTP.</li>
</ol>

<p>Y eso es todo, cada vez que ocurra el evento se va a ejecutar la función.</p>

<p>Por debajo, las soluciones FaaS hacen uso de contenedores para ejecutar las funciones.</p>

<h2 id="casos-de-uso">Casos de uso</h2>

<p>FaaS es ideal para casos de uso como:</p>

<ul>
  <li>El backend de aplicaciones.</li>
  <li>Tareas cortas esporádicas como envíos de correo, procesamiento de imágenes, generación dinámica de archivos, etc.</li>
  <li>Recepción y procesamiento de datos de dispositivos IoT.</li>
  <li>Webhooks. Reaccionar ante eventos que ocurren en otras aplicaciones o servicios.</li>
  <li>Creación de bots (de Slack o conversacionales).</li>
  <li>… entre otros!</li>
</ul>

<h2 id="limitaciones-y-desventajas">Limitaciones y desventajas</h2>

<p>Antes de empezar con FaaS debes tener en cuenta que existen algunas limitaciones y desventajas de usar esta tecnología:</p>

<ol>
  <li>Tiempo máximo de ejecución. La mayoría de soluciones FaaS no están diseñadas para tareas que tomen más de unos minutos.</li>
  <li>Concurrencia. Existen límites en el número de ejecuciones concurrentes de una función. Por ejemplo, AWS Lambda tiene un límite de 1000 ejecuciones concurrentes por defecto que se pueden incrementar a decenas de miles a través de una solicitud.</li>
  <li>Capacidad de disco y memoria RAM. Depende del proveedor.</li>
  <li>Tamaño de la función. Depende del proveedor.</li>
  <li>Tamaño máximo de la petición y la respuesta. Depende del proveedor pero no está hecho para recibir archivos grandes (máximo algunos megabytes).</li>
  <li>Número máximo de funciones desplegadas. Depende del proveedor.</li>
  <li>Seguridad. Dependemos del proveedor para evitar ataques que generen costos para nosotros.</li>
  <li>Precio. Generalmente se cobra por número de ejecuciones y/o tiempo de procesamiento, así que es necesario estimar estos valores para cada caso y cada proveedor.</li>
</ol>

<p>El último punto es particularmente importante porque el precio varía entre proveedores y está cambiando constantemente. La capa gratuita de <a href="https://aws.amazon.com/lambda/" target="\_blank">AWS Lambda</a> es particularmente generosa al momento de escribir este post: 1 millón de ejecuciones y hasta 3.2 millones de segundos de ejecución al mes (dependiendo de la cantidad de memoria que se le asigne a cada función), pero es importante revisar los costos y compararlos con otras soluciones.</p>

<h2 id="cómo-empezar">Cómo empezar</h2>

<p>Existen varios proveedores de FaaS. El más popular es <a href="https://aws.amazon.com/lambda/" target="\_blank">AWS Lambda</a> pero no es el más fácil para empezar. Incluso muchas empresas utilizan <a href="https://www.serverless.com/" target="\_blank">Serverless Framework</a> para desplegar sus funciones a <a href="https://aws.amazon.com/lambda/" target="\_blank">AWS Lambda</a> y otros proveedores como <a href="https://azure.microsoft.com/en-us/services/functions/" target="\_blank">Microsoft Azure</a>, <a href="https://cloud.google.com/functions" target="\_blank">Google Cloud Platform</a>, entre otros.</p>

<p>Existen otros proveedores más pequeños, como <a href="https://vercel.com/" target="\_blank">Vercel</a> y <a href="https://netlify.com/" target="\_blank">Netlify</a>, que ofrecen alternativas más simples y fáciles de empezar. Para este ejemplo vamos a utilizar <a href="https://vercel.com/" target="\_blank">Vercel</a>.</p>

<p>El primer paso es crear una cuenta en <a href="https://vercel.com/" target="\_blank">Vercel</a>, puedes hacerlo utilizando email y contraseña o puedes utilizar Github como método de autenticación.</p>

<p>El siguiente paso es crear una carpeta llamada <code class="language-plaintext highlighter-rouge">ejemplo-faas</code>, una subcarpeta llamada <code class="language-plaintext highlighter-rouge">api</code> (por defecto Vercel toma las funciones de esta carpeta) y un archivo llamado <code class="language-plaintext highlighter-rouge">index.js</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mkdir ejemplo-faas
$ cd ejemplo-faas
$ mkdir api
$ cd api
$ touch index.js
</code></pre></div></div>

<p>Abre el proyecto en tu editor preferido y agrega el siguiente contenido al archivo <code class="language-plaintext highlighter-rouge">index.js</code>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">handler</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">end</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello!</span><span class="dl">"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Guarda el archivo, inicializa el repositorio de Git y crea un commit:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git init
$ git add .
$ git commit -m 'Versión Inicial'
</code></pre></div></div>

<p>Crea un <a href="https://github.com/new">repositorio en Github</a> y hazle push con los siguientes comandos (también los vas a encontrar en las instrucciones del repositorio que crees en Github):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git remote add origin &lt;url_al_repo&gt;
$ git branch -M main
$ git push -u origin main
</code></pre></div></div>

<p>Vuelve a <a href="https://vercel.com/" target="\_blank">Vercel</a> y agrega un nuevo proyecto desde el Dashboard:</p>

<p><img src="/assets/images/vercel-1.jpg" alt="Dashboard de Vercel" class="photo border" /></p>
<p class="photo-description">El Dashboard de Vercel al momento de escribir este post. Puede que cambie pero debe existir la opción de crear un nuevo proyecto.</p>

<p>Selecciona el repostorio que acabaste de crear y sigue las instrucciones para desplegarlo:</p>

<p><img src="/assets/images/vercel-2.jpg" alt="Selección de proyecto en Vercel" class="photo border" /></p>
<p class="photo-description">Selección de proyecto en Vercel. Busca el proyecto de Github que creaste e impórtalo como muestra la flecha roja.</p>

<p>En Vercel, en la página del proyecto, vas a encontrar la URL de la aplicación para probar tu función, recuerda agregar <code class="language-plaintext highlighter-rouge">api/index</code> al final de la URL para probar la función que creamos. Deberías ver el siguiente resultado:</p>

<p><img src="/assets/images/vercel-3.jpg" alt="Resultado del llamado a la función" class="photo border" /></p>
<p class="photo-description">Resultado del llamado a la función desde el navegador.</p>

<p>¡Felicitaciones, acabas de desplegar tu primera función en la nube! No parece muy diferente a desplegar una aplicación Web normal, pero la diferencia es que sólo vas a pagar por el uso real de tu aplicación y no necesitas preocuparte por la escalabilidad (aunque es bueno estar pendiente de los costos).</p>
</div>

                <div class="share-post">
                  <span class="text">Compartir en:</span>
                  <div class="social-networks">
                    <a class="btn-share btn-share-twitter" target="_blank" href="http://twitter.com/share?text=Serverless (FaaS)&url=http://blog.makeitreal.camp/serverless-faas/&via=makeitrealcamp" rel="nofollow" title="Compartir en Twitter">Twitter</a>
                    <a class="btn-share btn-share-fb" target="_blank" href="http://www.facebook.com/sharer.php?u=http://blog.makeitreal.camp/serverless-faas/&p[title]=Serverless (FaaS)" rel="nofollow" title="Compartir en Facebook">Facebook</a>
                    <a class="btn-share btn-share-linkedin" target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=http://blog.makeitreal.camp/serverless-faas/&title=Serverless (FaaS)&summary=&source=http://blog.makeitreal.camp/serverless-faas/" rel="nofollow" title="Compartir en LinkedIn">LinkedIn</a>
                  </div>
                </div>

                <div class="post-magnet">
  <div class="row">
    <div class="col-md-6 push-md-6 text-center">
      <div class="img-wrapper">
        <img src="https://makeitreal.s3.amazonaws.com/images/books/web-developer-guide-book.png" alt="¿Cómo convertirte en Desarrollador Web?">
      </div>
    </div>
    <div class="col-md-6 pull-md-6">
      <div class="content-wrapper">
        <h3>Descarga gratis el e-book</h3>
        <p>Conoce la mentalidad, los roles y las tecnologías que debes saber para convertirte en desarrollador Web.</p>
        <a href="https://makeitreal.camp/como-convertirte-en-web-developer?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=web-developer-guide&utm_term=serverless-faas">Descargar e-book</a>
      </div>
    </div>
  </div>
</div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
    <footer class="main">
  <div class="container text-right">
    <a href="https://makeitreal.camp/?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=programs#programs" class="btn-cta">Conoce nuestros programas</a>
  </div>
</footer>

  </body>
</html>
