<!DOCTYPE html>
<html lang="es">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title> Manejadores de versiones para Ruby </title>
  <meta name="description" content="Un manejador de versiones para Ruby te permite instalar varias versiones de Ruby en tu máquina y cambiar entre versiones fácilmente.">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Manejadores de versiones para Ruby">
<meta property="og:type" content="article">
<meta property="og:url" content="http://blog.makeitreal.camp/manejadores-de-versiones-en-ruby/">


  <meta property="og:image" content="http://blog.makeitreal.camp/assets/images/bg-images/ruby-version-management.jpg">



<meta property="og:site_name" content="El Blog de Make it Real">
<meta property="og:locale" content="es_CO">


  <meta property="article:published_time" content="2016-10-16T12:00:00-05:00">
  <meta property="article:author" content="Germán Escobar">



  <link rel="canonical" href="http://blog.makeitreal.camp/manejadores-de-versiones-en-ruby/">
  <link rel="alternate" type="application/rss+xml" title="El Blog de Make it Real" href="/feed.xml">

  <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans+Condensed:700|Open+Sans:400,300,600,700' type='text/css'>
  <link rel="stylesheet" href="/assets/stylesheets/main.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="/assets/javascripts/main.js" charset="utf-8"></script>
  <script src="/assets/javascripts/prism.min.js" charset="utf-8"></script>

  
</head>

  <body>
    <nav class="main">
  <div class="container">
    <div class="main-content">
      <a href="https://makeitreal.camp/?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=logo"><img src="/assets/images/logo-makeitreal-white.png" alt="Make it Real Logo"></a>
      <a href="https://makeitreal.camp/?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=programs#programs" class="btn-cta">Conoce nuestros programas</a>
    </div>
  </div>
</nav>

    <div class="content"><div class="post-page">
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col-lg-10 col-xl-9">
        <a href="/">&larr; Volver a la lista de posts</a>

        <div class="post">
          <div class="post-image" style="background-image: url(/assets/images/bg-images/ruby-version-management.jpg)"></div>
          <div class="row justify-content-md-center">
            <div class="col-md-10">
              <div class="post-content">
                <div class="post-details">
                  <div class="post-author">
                    <img class="img-responsive" src="//www.gravatar.com/avatar/12270acfe9b6842e1a5b6e594382f149.jpg?s=80"/>
                    <span>Germán Escobar</span>
                  </div>
                  <time class="post-date">Oct 16, 2016</time>
                </div>
                <h1>Manejadores de versiones para Ruby</h1>
                <div class="post-body"><p>Un manejador de versiones para Ruby te permite instalar varias versiones de Ruby en tu máquina y cambiar entre versiones fácilmente.<!-- more --></p>

<p>Pero ¿para qué quisiéramos tener instaladas varias versiones de Ruby?</p>

<p>Existen dos razones. La primera es que, si tienes proyectos en producción, es una buena práctica utilizar la misma versión de Ruby en tu ambiente local. Por ejemplo, si uno de tus proyectos utiliza la versión <code>2.2.1</code> en producción y otro proyecto la <code>2.3.1</code>, deberías poder cambiar entre esas dos versiones fácilmente en tu ambiente local dependiendo del proyecto en el que vayas a trabajar.</p>

<p>La segunda razón es poder probar diferentes versiones de Ruby sin necesidad de estar desinstalando y reinstalando versiones, por ejemplo para probar tus proyectos con otras versiones, o simplemente para jugar con las nuevas características de la última versión.</p>

<p>Existen dos manejadores de versiones que son muy populares y en los que nos vamos a enfocar en este post: <a href="https://rvm.io/" target="_blank">RVM</a> (Ruby Version Manager) y <a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a>.</p>

<h2 id="rvm">RVM</h2>

<p><a href="https://rvm.io/" target="_blank">RVM</a> fue el primer manejador de versiones de Ruby y es el que personalmente uso. Para instalarlo en Linux y MacOS sigue <a href="https://rvm.io/rvm/install" target="_blank">estas instrucciones</a> (para Windows utiliza <a href="http://blog.developwithpassion.com/2012/03/30/installing-rvm-with-cygwin-on-windows/" target="_blank">este otro enlace</a>).</p>

<p>Los comandos principales de <a href="https://rvm.io/" target="_blank">RVM</a> son:</p>

<ul>
  <li><code>rvm list</code>: lista todas las versiones de Ruby instaladas en tu máquina.</li>
  <li><code>rvm install [version_de_ruby]</code>: instala una nueva versión de Ruby. Por ejemplo:
    <pre class="bash"><code>$ rvm install 2.3.1</code></pre>
  </li>
  <li><code>rvm use [version_de_ruby]</code>: utiliza la versión que especifiques de Ruby. Por ejemplo:
    <pre class="bash"><code>$ rvm use 2.3.1</code></pre>
  </li>
</ul>

<p>Para definir la versión por defecto que se carga cuando abres la línea de comandos ejecuta <code>rvm use --default [version_de_ruby]</code>. Por ejemplo, para usar y definir por defecto la versión <code>2.3.1</code> utiliza el siguiente comando:</p>

<pre class="bash"><code>$ rvm use --default 2.3.1</code></pre>

<p>Veamos algunos de estos comandos en acción. Empecemos por <code>rvm list</code> que lista las versiones que están instaladas en nuestro sistema:</p>

<pre class="bash"><code>$ rvm list

   ruby-2.2.0 [ x86_64 ]
   ruby-2.2.1 [ x86_64 ]
 * ruby-2.3.0 [ x86_64 ]
=&gt; ruby-2.3.1 [ x86_64 ]

# =&gt; - current
# =* - current &amp;&amp; default
#  * - default</code></pre>

<p>En este caso tenemos 4 versiones de Ruby instaladas. La que estamos usando actualmente se identifica por el prefijo <code>=&gt;</code>, en este caso la <code>2.3.1</code>, y la que se utiliza por defecto se identifica por el prefijo <code>*</code>, en este caso la <code>2.3.0</code>. Podemos verificar que la versión que estamos usando es efectivamente la <code>2.3.1</code>:</p>

<pre><code class="language-none">$ ruby -v
ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]</code></pre>

<p>Cambiemos ahora a la versión <code>2.2.1</code>:</p>

<pre><code class="language-none">$ rvm use 2.2.1
Using /Users/germanescobar/.rvm/gems/ruby-2.2.1

$ ruby -v
ruby 2.2.1p85 (2015-02-26 revision 49769) [x86_64-darwin14]</code></pre>

<p><br />
La ventaja de <a href="https://rvm.io/" target="_blank">RVM</a> es que trae todo incluido cuando lo instalas: el manejador de versiones, el instalador de nuevas versiones de Ruby y el administrador para grupos de gemas (un tema que veremos más adelante). Sin embargo, muchos argumentan que eso va en contra de la filosofía Unix, en donde cada programa debería hacer una sola cosa bien<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>.</p>

<h2 id="rbenv">rbenv</h2>

<p><a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> es otro manejador de versiones de Ruby y hoy es mucho más popular que <a href="https://rvm.io/" target="_blank">RVM</a> según <a href="https://www.ruby-toolbox.com/categories/ruby_version_management" target="_blank">The Ruby Toolbox</a>.</p>

<p><a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> es solo un manejador de versiones y utiliza una arquitectura basada en plugins para agregar más funcionalidad. Eso quiere decir que si quieres instalar una nueva versión de Ruby debes hacerlo manualmente o instalar primero un plugin de <a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> llamado <a href="https://github.com/rbenv/ruby-build" target="_blank">ruby-build</a> (solo debes instalarlo una única vez).</p>

<p><a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> solo soporta Linux y MacOS y lo puedes instalar siguiendo las instrucciones en <a href="https://github.com/rbenv/rbenv#installation" target="_blank">este enlace</a>. Existe una <a href="https://github.com/nak1114/rbenv-win" target="_blank">versión para Windows</a> pero realmente no sé qué tan fácil sea de instalar.</p>

<p>Los comandos principales de <a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> son:</p>

<ul>
  <li><code>rbenv versions</code>: lista las versiones de Ruby instaladas en tu máquina.</li>
  <li><code>rbenv version</code>: muestra la versión de Ruby activa (la que se está usando actualmente).</li>
  <li><code>rbenv shell [version]</code>: utiliza la versión que especifiques de Ruby. Por ejemplo:
    <pre class="bash"><code>$ rbenv shell 2.3.1</code></pre>
  </li>
  <li><code>rbenv global [version]</code>: define la versión por defecto. Por ejemplo:
    <pre class="bash"><code>$ rbenv global 2.3.1</code></pre>
  </li>
  <li><code>rbenv rehash</code>: este comando se debe ejecutar cuando se instala una nueva versión de Ruby o alguna gema que incluya nuevos comandos para la consola.</li>
</ul>

<p><strong>Nota</strong>: Puedes encontrar todos los comandos con ejemplos en <a href="https://github.com/rbenv/rbenv#command-reference" target="_blank">este enlace</a>.</p>

<p>Para instalar una nueva versión de Ruby -después de haber instalado el plugin <code>ruby-build</code>- utiliza el comando <code>rbenv install [version_de_ruby]</code>. Por ejemplo:</p>

<pre class="bash"><code>$ rbenv install 2.2.0</code></pre>

<p>La ventaja de <a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> es que es más liviano que <a href="https://rvm.io/" target="_blank">RVM</a> y que utiliza una forma diferente de manejar las versiones que, muchos argumentan, es mejor (aunque seguramente debatible).</p>

<h2 id="definir-la-versión-de-ruby-por-proyecto">Definir la versión de Ruby por proyecto</h2>

<p>Una buena práctica es crear un archivo llamado <code>.ruby-version</code> en la raíz de cada uno de tus proyectos que defina la versión de Ruby que se debe usar para ese proyecto. De esa forma, cuando entres a esa carpeta, tanto <a href="https://rvm.io/" target="_blank">RVM</a> como <a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> van a utilizar la versión correcta sin necesidad de que tengas que hacer el cambio explícito.</p>

<p>Aunque el archivo solo contiene la versión que se debe usar y podrías crearlo manualmente, tanto <a href="https://rvm.io/" target="_blank">RVM</a> como <a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> tienen comandos que lo crean por ti:</p>

<pre class="bash"><code>$ rvm --ruby-version use 2.3.1</code></pre>

<pre class="bash"><code>$ rbenv local 2.3.1</code></pre>

<p>Puedes agregar este archivo a Git y de esa forma todos los integrantes de tu equipo van a utilizar la misma versión en sus ambientes de desarrollo local (si están utilizando algún manejador de versiones).</p>

<h2 id="grupos-de-gemas-gemsets">Grupos de gemas (gemsets)</h2>

<p>Una funcionalidad que incluye <a href="https://rvm.io/" target="_blank">RVM</a>, y que <a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> argumenta que no se necesita (aunque se puede incluir <a href="https://github.com/jf/rbenv-gemset" target="_blank">con un plugin</a>), es el manejo de los grupos de gemas (gemsets).</p>

<p>Las gemas son las librerías de Ruby. Una gema se instala con el comando <code>gem install [nombre_de_la_gema]</code>. Por ejemplo:</p>

<pre class="bash"><code>$ gem install rails</code></pre>

<p>Ese comando instalaría la versión más reciente de Rails, si queremos otra versión lo podemos hacer con la opción <code>-v</code>. Por ejemplo:</p>

<pre class="bash"><code>$ gem install rails -v 4.2.7</code></pre>

<p>Una buena práctica es aislar las gemas de tu proyecto para que no se generen conflictos con otras versiones de las mismas gemas. Para eso <a href="https://rvm.io/" target="_blank">RVM</a> nos permite crear <strong>gemsets</strong>. Los comandos que necesitas conocer son:</p>

<ul>
  <li><code>rvm gemset list</code>: lista los gemsets para cada una de las versiones de Ruby que tengamos instaladas.</li>
  <li><code>rvm gemset create [nombre_del_gemset]</code>: crea un gemset con el nombre que definamos. Por ejemplo, el siguiente comando crea un gemset llamado <code>rails4</code>:
    <pre class="bash"><code>$ rvm gemset create rails4</code></pre>
  </li>
  <li><code>rvm gemset use [nombre_del_gemset]</code>: utiliza un gemset. Por ejemplo:
    <pre class="bash"><code>$ rvm gemset use rails4</code></pre>
  </li>
  <li><code>rvm gemset delete [nombre_del_gemset]</code>: elimina un gemset. Por ejemplo:
    <pre class="bash"><code>$ rvm gemset delete rails4</code></pre>
  </li>
</ul>

<p>Muchos argumentan, y estoy de acuerdo, en que <a href="http://bundler.io/" target="_blank">Bundler</a> es una mejor forma de aislar (y manejar) las gemas de nuestros proyectos y que ya no son necesarios los gemsets. De hecho Rails viene con <a href="http://bundler.io/" target="_blank">Bundler</a> incluido. Sin embargo, es bueno que sepas que los <strong>gemsets</strong> existen.</p>

<h2 id="conclusión">Conclusión</h2>

<p>Tanto <a href="https://rvm.io/" target="_blank">RVM</a> como <a href="https://github.com/rbenv/rbenv" target="_blank">rbenv</a> intentan solucionar el mismo problema y los dos ofrecen una funcionalidad muy similar. Sin embargo, si tuviera que elegir alguno de los dos continuaría con <a href="https://rvm.io/" target="_blank">RVM</a> aunque <a href="http://www.rubyinside.com/rbenv-a-simple-new-ruby-version-management-tool-5302.html" target="_blank">la Internets argumente lo contrario</a>.</p>

<p>No importa cuál escojas, lo importante es que instales y comiences a utilizar alguno porque más adelante lo agradecerás.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>Existen otros argumentos en contra de RVM pero no son relevantes para efectos prácticos de este post.&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>

                <div class="share-post">
                  <span class="text">Compartir en:</span>
                  <div class="social-networks">
                    <a class="btn-share btn-share-twitter" target="_blank" href="http://twitter.com/share?text=Manejadores de versiones para Ruby&url=http://blog.makeitreal.camp/manejadores-de-versiones-en-ruby/&via=makeitrealcamp" rel="nofollow" title="Compartir en Twitter">Twitter</a>
                    <a class="btn-share btn-share-fb" target="_blank" href="http://www.facebook.com/sharer.php?u=http://blog.makeitreal.camp/manejadores-de-versiones-en-ruby/&p[title]=Manejadores de versiones para Ruby" rel="nofollow" title="Compartir en Facebook">Facebook</a>
                    <a class="btn-share btn-share-linkedin" target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=http://blog.makeitreal.camp/manejadores-de-versiones-en-ruby/&title=Manejadores de versiones para Ruby&summary=&source=http://blog.makeitreal.camp/manejadores-de-versiones-en-ruby/" rel="nofollow" title="Compartir en LinkedIn">LinkedIn</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row justify-content-md-center">
      <div class="col-sm-8">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'makeitreal'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>
  </div>
</div>
</div>
    <footer class="main">

    </footer>
  </body>
</html>
