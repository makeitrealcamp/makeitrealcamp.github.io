<!DOCTYPE html>
<html lang="es">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title> ¿Qué son y cómo funcionan los protocolos de red? </title>
  <meta name="description" content="Así como los humanos utilizamos protocolos para facilitar la comunicación, los computadores necesitan reglas específicas para comunicarse entre ellos. En est...">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="¿Qué son y cómo funcionan los protocolos de red?">
<meta property="og:type" content="article">
<meta property="og:url" content="http://blog.makeitreal.camp/que-son-y-como-funcionan-los-protocolos-de-red/">


  <meta property="og:image" content="http://blog.makeitreal.camp/assets/images/bg-images/protocolo-de-red.jpg">



<meta property="og:site_name" content="El Blog de Make it Real">
<meta property="og:locale" content="es_CO">


  <meta property="article:published_time" content="2021-01-20T07:00:00+00:00">
  <meta property="article:author" content="Germán Escobar">



  <link rel="canonical" href="http://blog.makeitreal.camp/que-son-y-como-funcionan-los-protocolos-de-red/">
  <link rel="alternate" type="application/rss+xml" title="El Blog de Make it Real" href="/feed.xml">

  <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans+Condensed:700|Open+Sans:400,300,600,700' type='text/css'>
  <link rel="stylesheet" href="/assets/stylesheets/main.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://kit.fontawesome.com/a97e084bfc.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-search@latest/dist/js-search.min.js"></script>
  <script src="/assets/javascripts/main.js" charset="utf-8"></script>
  <script src="/assets/javascripts/prism.min.js" charset="utf-8"></script>

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-18132057-9', 'auto');
  ga('send', 'pageview');
</script>

  
</head>

  <body>
    <nav class="main">
  <div class="container">
    <div class="main-content">
      <a href="https://makeitreal.camp/?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=logo"><img src="/assets/images/logo-makeitreal-white.png" alt="Make it Real Logo"></a>
      <div>
        
        <a href="https://makeitreal.camp/?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=programs#programs" class="btn-cta">Conoce nuestros programas</a>
      </div>
      <div class="secret" style="display: none;">HcUy6Re2LLBRtj</div>
    </div>
  </div>
</nav>

    <div class="content"><div class="post-page">
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col-lg-10 col-xl-9">
        <a href="/">&larr; Volver a la lista de posts</a>

        <div class="post">
          <div class="post-image" style="background-image: url(/assets/images/bg-images/protocolo-de-red.jpg)"></div>
          <div class="row justify-content-md-center">
            <div class="col-md-10">
              <div class="post-content">
                <div class="post-details">
                  <div class="post-author">
                    <img class="img-responsive" src="//www.gravatar.com/avatar/12270acfe9b6842e1a5b6e594382f149.jpg?s=80"/>
                    <span>Germán Escobar</span>
                  </div>
                  <time class="post-date">Jan 20, 2021</time>
                </div>
                <h1>¿Qué son y cómo funcionan los protocolos de red?</h1>
                <div class="post-body"><p>Así como los humanos utilizamos protocolos para facilitar la comunicación, los computadores necesitan reglas específicas para comunicarse entre ellos. En este post vamos a ver qué son, cómo funcionan y cómo crear nuestro propio protocolo!<!-- more --></p>

<p>Un <strong>protocolo de red</strong> no es más que un documento que define las reglas y la estructura de los mensajes que se van a intercambiar entre dos o más computadores. A estos documentos se les conoce como RFC (Request For Comments)<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>.</p>

<p>Quizá hayas escuchado de protocolos como <a href="/el-protocolo-http/" target="\blank">HTTP (HyperText Transfer Protocol)</a>, que se utiliza cada vez que abres una página desde un navegador, o <a href="https://es.wikipedia.org/wiki/Protocolo_para_transferencia_simple_de_correo" target="\_blank">SMTP (Simple Mail Transfer Protocol)</a>, que se utiliza para enviar y recibir correos electrónicos. Estos protocolos son abiertos, así que puedes consultar los documentos (RFC) que los describen en <a href="https://tools.ietf.org/html/rfc2616" target="\_blank">este</a> y <a href="https://tools.ietf.org/html/rfc5321" target="\_blank">este</a> enlace respectivamente.</p>

<p>HTTP y SMTP son protocolos de alto nivel. Los mensajes de estos protocolos viajan sobre otros protocolos de más bajo nivel como <a href="https://es.wikipedia.org/wiki/Protocolo_de_control_de_transmisi%C3%B3n" target="\_blank">TCP (Transfer Control Protocol)</a> e <a href="https://es.wikipedia.org/wiki/Protocolo_de_internet" target="\_blank">IP (Internet Protocol)</a>, que a su vez viajan sobre otros protocolos como <a href="https://es.wikipedia.org/wiki/Ethernet" target="\_blank">Ethernet</a> (para redes cableadas) o <a href="https://es.wikipedia.org/wiki/Wifi" target="\_blank">WiFi</a> (redes inalámbricas)<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup>.</p>

<p>La siguiente animación muestra un ejemplo de cómo se encapsulan los mensajes de un protocolo en mensajes de otro protocolo de más bajo nivel para enviar enviar información de un origen a un destino (en este caso se va a enviar un fragmento de código HTML):</p>

<p><img src="/assets/images/network-layers.gif" alt="Capas de Red" class="photo border" /></p>
<p class="photo-description">Los mensajes de un protocolo se transmiten dentro de los mensajes de protocolos de más bajo nivel.</p>

<p>El código HTML se encapsula en un mensaje HTTP, que es un protocolo de <strong>la capa de aplicación</strong>. El mensaje HTTP se encapsula en un mensaje TCP, que es un protocolo de <strong>la capa de transporte</strong>. El mensaje TCP se encapsula en un mensaje IP, que es un protocolo de <strong>la capa de Internet</strong>. Por último, el mensaje IP se encapsula en el protocolo de red (p.e. alguno de los protocolos Wifi) y se envía al destino.</p>

<p>Cuando el mensaje llega al destino ocurre el proceso contrario: la capa de red recibe el mensaje y le pasa el cuerpo (el mensaje IP) a la capa de Internet, que a su vez le pasa el cuerpo (el mensaje TCP) a la capa de transporte, y así sucesivamente.</p>

<p>Si el mensaje del protocolo de alto nivel es muy largo, es posible que la capa de transporte (en este caso TCP) divida el mensaje y lo envíe por partes, para después ensamblarlo en el destino.</p>

<p>La mayoría de mensajes de un protocolo tienen un encabezado y (opcionalmente) un cuerpo. Por ejemplo, un mensaje de <strong>respuesta HTTP</strong> incluye la versión del protocolo, el código de respuesta (p.e. 200 OK o 404 Not Found), información adicional como el tipo de contenido que va en el cuerpo, y la longitud del cuerpo, entre otros:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">wikipedia.org</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/html</span>
<span class="na">Content-Lenght</span><span class="p">:</span> <span class="s">2026</span>

<span class="nt">&lt;h1&gt;</span>Hola Mundo<span class="nt">&lt;/h1&gt;</span>
</code></pre></div></div>

<p><strong>Nota:</strong> El protocolo HTTP es el protocolo más importante que debería conocer todo desarrollador Web. Si quieres aprender más de este protocolo te recomiendo <a href="/el-protocolo-http/" target="\_blank">este post del blog de Make it Real</a>.</p>

<p>Esta arquitectura en capas brinda mucha flexibilidad porque cada capa se encarga de una parte específica de la comunicación. Los protocolos de alto nivel no se preocupan de cómo se transportan sus mensajes, y los protocolos de bajo nivel no se preocupan de la información que están transportando.</p>

<p>A los mensajes también se les conoce con el nombre de <strong>paquetes</strong>.</p>

<h2 id="creemos-nuestro-propio-protocolo">Creemos nuestro propio protocolo</h2>
<p>Vamos a crear un protocolo muy simple que permita a dos computadores (un cliente y un servidor) saludarse y despedirse. Las características de nuestro protocolo van a ser las siguientes:</p>

<ul>
  <li>Va a ser de alto nivel (de aplicación).</li>
  <li>Va a ser de petición-respuesta, es decir que el cliente envía un mensaje y el servidor responde con un mensaje de vuelta.</li>
  <li>Va a ser un protocolo sin estado, es decir, que cada mensaje va a ser independiente del anterior.</li>
</ul>

<p>Las reglas de nuestro protocolo son las siguientes:</p>

<ul>
  <li>Cuando el cliente envía el texto <code class="language-plaintext highlighter-rouge">HOLA</code>, el servidor responderá con el texto <code class="language-plaintext highlighter-rouge">BUENAS</code>.</li>
  <li>Cuando el cliente envíe el texto <code class="language-plaintext highlighter-rouge">CHAO</code>, el servidor responderá con el texto <code class="language-plaintext highlighter-rouge">ADIOS</code> y cerrará la conexión.</li>
  <li>Si el cliente envía un texto diferente a los anteriores el servidor responderá con el texto <code class="language-plaintext highlighter-rouge">NO ENTIENDO</code>.</li>
</ul>

<p>¡Eso es todo! Cualquier persona puede implementar un cliente o un servidor de este protocolo en cualquier lenguaje de programación. Vamos a implementar un servidor en <a href="https://nodejs.org/" target="\_blank">Node.js</a> que implemente este protocolo.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">net</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">net</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">net</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="nx">socket</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">data</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// convertimos la data en texto y quitamos el salto de línea</span>
    <span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[\r\n]</span><span class="sr">+/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">message</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">HOLA</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">socket</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">"</span><span class="s2">BUENAS</span><span class="se">\n\r</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">message</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">CHAO</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">socket</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">"</span><span class="s2">ADIOS</span><span class="se">\n\r</span><span class="dl">"</span><span class="p">)</span>
      <span class="nx">socket</span><span class="p">.</span><span class="nx">close</span><span class="p">()</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">socket</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">"</span><span class="s2">NO ENTIENDO</span><span class="se">\n\r</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">})</span>
<span class="p">})</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">1337</span><span class="p">,</span> <span class="dl">'</span><span class="s1">127.0.0.1</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div>

<p>Para crear nuestro servidor en Node.js requerimos primero el módulo <code class="language-plaintext highlighter-rouge">net</code>, que nos permite interactuar con la capa de transporte (TCP). Después creamos el servidor que recibe conexiones a través de <strong>sockets</strong> por los que vamos a recibir y enviar los mensajes de nuestro protocolo. Por último prendemos el servidor, que se va a quedar escuchando las conexiones que lleguen al puerto <code class="language-plaintext highlighter-rouge">1337</code>.</p>

<p><strong>Nota:</strong> Un <strong>socket</strong> es una combinación de una IP y un <strong>puerto</strong> (en este caso el puerto <code class="language-plaintext highlighter-rouge">1337</code>). Los <strong>puertos</strong> no son más que divisiones lógicas en la red que permiten a los computadores conectarse con más de un computador/servidor a la vez.</p>

<p>Para iniciar el servidor ejecutamos el comando <code class="language-plaintext highlighter-rouge">node</code> seguido del nombre del archivo, por ejemplo:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node index.js
</code></pre></div></div>

<p>Para detenerlo debes oprimir <code class="language-plaintext highlighter-rouge">Ctrl+C</code>.</p>

<p>Para probar el servidor vamos a conectarnos a través de <a href="https://es.wikipedia.org/wiki/Telnet" target="\_blank">Telnet</a>, que es una aplicación de la línea de comandos que va a abrir una conexión TCP al host y puerto que especifiquemos en los argumentos. En este caso nos vamos a conectar a nuestro propio computador, al puerto 1337:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>telnet localhost 1337
</code></pre></div></div>

<p>Si te aparece un mensaje de error diciendo que el comando no fue encontrado deberás primero instalarlo para tu sistema operativo<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup>. De lo contrario deberías ver algo similar a lo siguiente:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Trying ::1...
telnet: connect to address ::1: Connection refused
Trying 127.0.0.1...
Connected to localhost.
Escape character is <span class="s1">'^]'</span><span class="nb">.</span>
</code></pre></div></div>

<p>Ahora podemos enviar algunos mensajes y ver las respuestas. Por ejemplo:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HOLA
BUENAS
HELLO
NO ENTIENDO
CHAO
ADIOS
Connection closed by foreign host.
</code></pre></div></div>

<p>Podemos seguir extendiendo nuestro protocolo con otros tipos de mensajes y organizar esta información en un documento para compartirlo con el mundo, y que otras personas puedan crear servidores o clientes a partir de nuestro protocolo :)</p>

<h2 id="conclusión">Conclusión</h2>

<p>Puedes pensar en los protocolos de red como las aplicaciones de Internet. Además de TCP e IP, que se utilizan para enrutar los mensajes de protocolos de más alto nivel, el primer protocolo que impulsó el crecimiento de Internet fue SMTP (correo electrónico).</p>

<p>Sin embargo, no fue sino hasta principios de los 90’s, con la creación del protocolo HTTP y la creación de navegadores gráficos que realmente se disparó la adopción. Desafortunadamente, fue un crecimiento muy rápido y descontrolado, lo que ocasionó la burbuja del año 2000 (también conocida como la <a href="https://es.wikipedia.org/wiki/Burbuja_puntocom" target="\_blank">burbuja del punto com</a>), pero con el tiempo el mercado fue madurando y hoy tenemos todo tipo de aplicaciones interesantes sobre esta increíble tecnología que es Internet.</p>

<hr />

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>El nombre es un remanente histórico. Antes estos documentos eran literal un solicitud de comentarios, pero hoy son documentos oficiales que estandarizan los protocolos. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>Ethernet y WiFi no son protocolos como tal, pero se usan estos términos para hablar del conjunto de protocolos que tienen el mismo fin. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p>Puedes hacer una búsqueda en Internet de “telnet” seguido de tu sistema operativo, por ejemplo “telnet windows”. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>

                <div class="share-post">
                  <span class="text">Compartir en:</span>
                  <div class="social-networks">
                    <a class="btn-share btn-share-twitter" target="_blank" href="http://twitter.com/share?text=¿Qué son y cómo funcionan los protocolos de red?&url=http://blog.makeitreal.camp/que-son-y-como-funcionan-los-protocolos-de-red/&via=makeitrealcamp" rel="nofollow" title="Compartir en Twitter">Twitter</a>
                    <a class="btn-share btn-share-fb" target="_blank" href="http://www.facebook.com/sharer.php?u=http://blog.makeitreal.camp/que-son-y-como-funcionan-los-protocolos-de-red/&p[title]=¿Qué son y cómo funcionan los protocolos de red?" rel="nofollow" title="Compartir en Facebook">Facebook</a>
                    <a class="btn-share btn-share-linkedin" target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=http://blog.makeitreal.camp/que-son-y-como-funcionan-los-protocolos-de-red/&title=¿Qué son y cómo funcionan los protocolos de red?&summary=&source=http://blog.makeitreal.camp/que-son-y-como-funcionan-los-protocolos-de-red/" rel="nofollow" title="Compartir en LinkedIn">LinkedIn</a>
                  </div>
                </div>

                <div class="post-magnet">
  <div class="row">
    <div class="col-md-6 push-md-6 text-center">
      <div class="img-wrapper">
        <img src="https://makeitreal.s3.amazonaws.com/images/books/web-developer-guide-book.png" alt="¿Cómo convertirte en Desarrollador Web?">
      </div>
    </div>
    <div class="col-md-6 pull-md-6">
      <div class="content-wrapper">
        <h3>Descarga gratis el e-book</h3>
        <p>Conoce la mentalidad, los roles y las tecnologías que debes saber para convertirte en desarrollador Web.</p>
        <a href="https://makeitreal.camp/como-convertirte-en-web-developer?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=web-developer-guide&utm_term=que-son-y-como-funcionan-los-protocolos-de-red">Descargar e-book</a>
      </div>
    </div>
  </div>
</div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
    <footer class="main">
  <div class="container text-right">
    <a href="https://makeitreal.camp/?utm_source=blog&utm_medium=web&utm_campaign=inbound&utm_content=programs#programs" class="btn-cta">Conoce nuestros programas</a>
  </div>
</footer>

  </body>
</html>
